@:directlyUsed @:used
class parseNumber.StringCodeIterator {

	@:value({ pos_ : 0 })
	public function new(str_:String, pos_:Null<Int> = 0) {
		this.str = "";
		this.pos = pos_;
		this.str = str_;
		this.length = this.str.length;
		this.b = new StringBuf();
	}

	@:value("")
	var str:String;

	var b:StringBuf;

	public var pos:Int;

	public var c:Int;

	public var last2:String;

	public var last:String;

	public var length:Int;

	public inline function storeLength() {
		return this.b.get_length();
	}

	public inline function addChar() {
		this.b.addChar(this.c);
	}

	public inline function toStr() {
		this.last2 = this.last;
		this.last = this.b.toString();
		return this.last;
	}

	public inline function isRepeat() {
		var out;
		return this.last == this.last2;
	}

	public inline function resetBuffer() {
		this.b = new StringBuf();
	}

	public inline function reset() {
		this.pos = 0;
	}

	public inline function hasNext() {
		return this.pos < this.length + 1;
	}

	public inline function next() {
		this.c = StringTools.fastCodeAt(this.str, this.pos ++);
		return this.c;
	}
}