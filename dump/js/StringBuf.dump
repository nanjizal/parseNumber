@:keep @:directlyUsed @:used
class StringBuf {

	public inline function new() {
		this.b = "";
	}

	var b:String;

	public var length(get,never):Int;

	inline function get_length() {
		return this.b.length;
	}

	public inline function add<T>(x:add.T) {
		this.b += Std.string(x);
	}

	public inline function addChar(c:Int) {
		this.b += @:pure __define_feature__("String.fromCharCode", js.Syntax.code("String.fromCodePoint({0})", c));
	}

	public inline function toString() {
		return this.b;
	}
}